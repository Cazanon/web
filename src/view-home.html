<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="timer-days/timer-days.html">

<dom-module id="view-home">

  <template>

    <style>
      :host {
        display: block;
        padding: 10px;
      }

      h2.date {
        font-family: 'Lato', sans-serif;
        font-weight: 100;
        color: #4687C7;
        line-height: 0.5;
        text-align: center;
      }
      h2.date span {
        display: inline-block;
        position: relative;
      }

      @media (min-width: 450px) {
        h2.date span:before,
        h2.date span:after {
          content: "";
          position: absolute;
          height: 5px;
          border-bottom: 1px solid #4687C7;
          border-top: 1px solid #4687C7;
          top: 3px;
          width: 100px;
        }

        h2.date span:before {
          right: 100%;
          margin-right: 15px;
        }

        h2.date span:after {
          left: 100%;
          margin-left: 15px;
        }
      }

      img.logo {
        max-width: 75%;
      }

      h1 {
        font-family: 'Quicksand', sans-serif;
        font-weight: 400;
      }

      h1.slogan {
        font-size: 1.8em;
        text-shadow: 1px 0 0 #fff,
          -1px 0 0 #fff,
          0 1px 0 #fff,
          0 -1px 0 #fff,
          1px 1px #fff,
          -1px -1px 0 #fff,
          1px -1px 0 #fff,
          -1px 1px 0 #fff;
      }

      img.side {
        position: absolute;
        top: 0;
        left: 0;
        bottom : 0;
        height: 100%;
      }

      timer-days {
        background-image: url('images/venue-1600.jpg');
        background-repeat: no-repeat;
        background-size: cover;
        background-position: center 20%;
        padding: 140px 0 40px;
        height: 300px;
        min-width: auto;
        box-sizing: border-box;

        --timer-days-font-color: #FFF;
        --timer-days-font-number-size: 35px;
      }
      /*
      .card {
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
        padding: 16px;
        margin: 24px;
        border-radius: 5px;
        background-color: #fff;
        color: #757575;
      }*/
      #accountDialog {
        position: fixed;
        top: 64px;
        left: 0;
        right: 0;
        margin: 0 auto;
        width: 400px;
        overflow: auto;
      }

      #accountButton iron-icon {
        /*
        https://css-tricks.com/clipping-masking-css/
        */
        -webkit-clip-path: circle(12px at 50% 50%);
        clip-path: circle(24px at 50% 50%);
      }

      paper-card {
        margin: 40px;
        width: auto;
        display: block;
        text-align: center;
      }
    </style>

    <paper-card>
      <timer-days target-date="2016-10-21T09:00:00"></timer-days>
      <div class="card-content">
        <h2 class="date"><span>[[formatedDate(date)]]</span></h2>
        <img class="logo" src="images/logo_polymerday.png" alt="PolymerDay" />
        <h1 class="location">Madrid</h1>
        <h1 class="slogan">We're Coming Soon...</h1>
      </div>
      <div class="card-actions">
        <!--paper-button>Share</paper-button-->
        <paper-button id="accountButton" class="">
          Stay tuned&nbsp;
          <iron-icon src="{{user.photoURL}}" alt=="{{user.displayName}}" icon="{{accountButtonIcon}}"></iron-icon>
        </paper-button>
      </div>
    </paper-card>

  </template>

  <script>

    Polymer({

      is: 'view-home',
      properties: {
        user: {
          type: Object,
          notify: true
        },

        accountButtonIcon: {
          type: String,
          value: 'account-circle',
          computed: '_computeAccountButtonIcon(user)'
        },

        dialog: {
          type: String
        }
      },

      listeners: {
        'accountButton.tap': '_showAccountDialog'
      },

      _computeAccountButtonIcon: function(user) {
        return (user) ? null : 'account-circle'
      },

      _showAccountDialog: function() {
        this.fire('showAccountDialog');
        //this.$.accountDialog.open();
      },

    });

  </script>

</dom-module>
