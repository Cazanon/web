<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="polymerday-data.html">
<link rel="import" href="polymerday-sponsor-item.html">

<dom-module id="polymerday-sponsors-list">
  <template>

    <style>

      .sponsors--container {
        display: flex;
        flex-flow: row wrap;
        justify-content: flex-start;
      }

      .sponsor-platinum {
        width: calc(100% / 2);
      }

      .sponsor-gold {
        width: calc(100% / 3);
      }

      .sponsor-iron {
        width: calc(100% / 4);
      }

      .sponsor-paper {
        width: calc(100% / 8);
      }

      @media (max-width:767px) {

        .sponsors--container--gold,
        .sponsors--container--paper {
          justify-content: center;
        }

        .sponsor-platinum {
          width: 100%;
        }

        .sponsor-gold {
          width: 80%;
        }

        .sponsor-iron {
          width: calc(100% / 2);
        }

        .sponsor-paper {
          width: calc(90% / 2);
        }
      }

    </style>

    <iron-ajax
      auto
      url="mocks/sponsors.json"
      last-response="{{sponsors}}"></iron-ajax>

<!--     <polymerday-data
      page="sponsors"
      subpage="{{sponsor-type}}"
      data="{{sponsors}}"></polymerday-data> -->

    <polymerday-section-title title="{{_title}}"></polymerday-section-title>

    <div class$="sponsors--container sponsors--container--{{sponsor-type}}">
      <template is="dom-repeat" items="{{sponsors.sponsors}}" as="sponsor">
        <polymerday-sponsor-item class$="sponsor-{{sponsor-type}}" sponsor="[[sponsor]]"></polymerday-sponsor-item>
      </template>
    </div>
  </template>

  <script>

    Polymer({

      is: 'polymerday-sponsors-list',

      properties: {

        sponsorType: String,

        _title: {
          type: String,
          computed: '_computedTitle(sponsorType)'
        },

        _titlesMap: {
          type: Object,
          value: {
            platinum: 'Platino Sponsoring',
            gold: 'Gold Sponsoring',
            iron: 'Iron Sponsoring',
            paper: 'Paper Sponsoring'
          }
        }

      },

      _computedTitle: function(sponsorType) {
        return this._titlesMap[sponsorType];
      }

    });

  </script>
</dom-module>