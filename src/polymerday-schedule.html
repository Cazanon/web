<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-tabs/paper-tabs.html">

<link rel="import" href="polymerday-data.html">
<link rel="import" href="polymerday-section-title.html">
<link rel="import" href="polymerday-schedule-item.html">

<dom-module id="polymerday-schedule">

  <template>

  <style>
    :host {
      display: block;
    }

    .wrapper {
      padding: 32px 0;
    }

    .event {
      padding: 0 24px;
    }

    .event--highlight {
      background: #E7F0F9;
    }

    polymerday-schedule-item {
      max-width: 992px;
      margin: auto;
    }

    paper-tabs {
      width: 300px;
      margin: 0 auto;
      --paper-tabs: {
        background: var(--color-blue-medium);
        color: var(--color-white-primary);
      }
    }

    paper-tabs paper-tab.iron-selected {
      background: var(--color-blue-primary);
    }

  </style>

  <polymerday-section-title title="Schedule" message="We dedicate one an a half days to talk about Web Components"></polymerday-section-title>
  
  <paper-tabs selected="{{daySelected}}" attr-for-selected="day" fallback-selection="friday" role="navigation" no-bar noink>
    <paper-tab day="friday" link>Friday</paper-tab>
    <paper-tab day="saturday" link>Saturday</paper-tab>
  </paper-tabs>

  <div class="wrapper">
    <polymerday-data id="events" data="{{events}}" page="schedule" subpage="{{daySelected}}"></polymerday-data>
    <template is="dom-repeat" items="[[events]]">
      <div class$="event [[_computeClass(item.type)]]">
        <polymerday-schedule-item event="[[item]]" on-select="doSomething"></polymerday-schedule-item>
      </div>
    </template>
  </div>

  </template>

  <script>
    Polymer({

      is: 'polymerday-schedule',

      properties: { },

      _computeClass: function(type) {
        return type === 'activity' ? 'event--highlight' : '';
      },

      doSomething: function(e) {
        console.log(e.model.item);
      }
    });

  </script>

</dom-module>
